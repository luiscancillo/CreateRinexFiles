<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>JNI Create RINEX Files: App Description:</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">JNI Create RINEX Files
   </div>
   <div id="projectbrief">Interface from Java to C++ to allow generation of RINEX files from GNSS data acquired by the toRINEX Android APP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">App Description: </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The application generates Receiver Independent Exchange (RINEX) format files from Global Navigation Satellite Systems (GNSS) raw data acquired from the smartphone GPS / GNSS own receiver.</p>
<p>To do it, the user is allowed to setup the parameters for raw data acquisition, to save observation and navigation raw data in files, to setup the metadata and parameters to generate RINEX files, and to perform the conversion from raw data to RINEX.</p>
<p>The application stores the raw data and RINEX files in the Documents public directory for their further exploitation.</p>
<p>Availability of observation and navigation data for the different systems, like GPS, GLONASS, GALILEO, BEIDOU, SBAS, etc, will depend on smartphone receiver capabilities. GPS satellites L1 pseudorange, doppler and signal strength observables are available from all smartphone receivers, but other observables and the navigation message data only from some receivers.</p>
<p>Each acquisition of GNSS raw data is performed with the receiver/phone placed in a fixed point. Observation data collected in a given point will be stored in an Observation Raw Data file. The set of files containing measurements from several related points are grouped in a survey. Navigation data collected during a survey are stored in a Navigation Raw Data file.</p>
<p>The user can select the number of epochs and the epoch interval for each data acquisition.</p>
<p>To allow user control on the acquisition process, the app shows the status of all satellites being tracked (satellite identification, signal quality, observables available) and the epoch time (GPS week and Time Of Week). Acquisition will start when the user click the Start Acquisition button, and finish when the preselected number of epochs have been received, or the acquisition aborted.</p>
<p>This app requires at least Android 7.1 (API level 25), which is the first providing GNSS raw data measurements. When acquisition has finished the user has to setup the metadata to be included in RINEX headers. Also the user can provide parameters that would affect filtering of data to be used to generate the files, like constellations, satellites and observables.</p>
<p>To generate RINEX files the user selects the the raw data files to be used and if the resulting file or files would contain data for one point or for several separated by"new site occupation" event records.</p>
<p>All files generated by the application are text files. A file manager and a text editor can be used to manage and display them.</p>
<h2>App Operation</h2>
<p>To generate RINEX files from GNSS raw data acquired from the GPS/GNSS receiver perform the following steps:</p><ul>
<li>Setup the parameters for data acquisition</li>
<li>Perform the acquisition, saving observation and navigation raw data in files.</li>
<li>Setup metadata for RINEX files and parameters to generate them.</li>
<li>Select the raw data files to be converted to RINEX.</li>
</ul>
<p>The application stores the raw data and RINEX files in the public Documents directory.</p>
<p>For a correct functioning, the user has to give permissions to the application to access the Positioning service and the Documents directory.</p>
<p>This application has been developed using Android Studio 3.0.1 and tested in Nexus 5X with Android 7.1.2 and Xiaomi Mi 8 with Android.</p>
<h3>Information on setup for acquisition</h3>
<p>Each acquisition of GNSS raw data is performed with the receiver/phone placed in a fixed point.</p>
<p>All data data collected in a given point will be stored in an Observation Raw Data file (ORD extension).</p>
<p>A Survey is a set of files containing measurements from several points. The survey name is used to create a directory where all related files will be placed.</p>
<p>The proposed survey names have the format SYearMonthDay_Hour_Minute being them in the current local time reference.</p>
<p>Observation raw data in each ORD file are grouped by epochs, each one containing the set of measurements taken by the receiver from all satellites in view. The user has to select the number of epochs to be collected for each point, and the epoch interval in seconds.</p>
<p>Some devices are able to provide data transmitted inside the satellites navigation messages. The user can select if such data would be acquired or not. If acquired, all navigation data taken during a survey would be stored in a unique Navigation Raw Data file (NRD extension).</p>
<h3>Information on performing acquisition</h3>
<p>The upper half window shows the status of the satellites being tracked.</p>
<p>It can take some time this information to be available, depending on the status of the receiver (cold or warm start, aid data available, etc.) and the visibility of satellites.</p>
<p>The status presented includes data on epoch time (GPS week and Time of Week), and for each satellite its identification, tracking status, signal to noise ration, and observables available (in black) or not available (in red). Satellites and observables are named using RINEX rules.</p>
<p>Also it is given a message on availability of navigation messages data.</p>
<p>To start data acquisition in a given point, the user shall press the START ACQUISITION button. The progress bar will inform on the acquisition progress. If it is pressed STOP ACQUISITION the acquisition process for this point would be aborted and no ORD file would be created.</p>
<p>The name of the ORD files have the format P_minute_second.ORD, being minute and second of the local time at the acquisition start.</p>
<p>Information on the current survey and already acquired files is shown below the progress bar.</p>
<h3>Information on setup for RINEX generation</h3>
<p>Before generating RINEX files it is necessary to provide metadata to be include in the RINEX header records. Meaning of data to be provided can be found in the Receiver Independent Exchange Format (RINEX) documents available from the International GNSS Service (IGS).</p>
<p>Also the user can provide parameters that would affect filtering of data to be used to generate files, like constellations, satellites and observables.</p>
<p>When generating RINEX files it is created a log file. The user can define the wanted level of logging to be used (from INFO to FINEST).</p>
<h3>Information on RINEX files generation</h3>
<p>To generate RINEX files select first the the raw data to be used. To do that it is necessary to select the survey from the list of existing ones, and then the raw data files to be used. RINEX observation files can be generated when ORD files are selected. RINEX navigation files can be generated when the NRD file is selected.</p>
<p>Press ONE FILE FOR ALL button to generate a unique RINEX observation file for all ORD files selected. An event flag record of type 'new site occupation' will be inserted to separate epochs from the different ORD files.</p>
<p>Press ONE FOR EACH SELECTED button to generate a RINEX file for each ORD file selected.</p>
<p>The list of existing RINEX files in the survey is displayed below above buttons. They are located in the RINEX subdirectory inside the survey directory.</p>
<p>All files generated by this version of the application (ORD, NRD, log, RINEX observation) are text files, and you can use a file manager to access them and a text editor to display their contents.</p>
<h2>Project structure</h2>
<p>The application GUI and data acquisition parts has been implemented in Java, being the code in the directory app/src/main/java/com/gnssapps/acq/torinex, and the related documentation in docs/ToRINEX3/html/index.html.</p>
<p>The generation of RINEX files from data acquired has been implemented in C++ using JNI classes (for the native Java to C++ interface) and predefined C++ classes for generating RINEX files. This code can be found in the project CreateRinexFiles. See this project for the related code and documentation.</p>
<p>Note: the current repository does not include all files for the whole Android Studio project, which would be available after the on-going reorganisation of the project (or upon request). </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
